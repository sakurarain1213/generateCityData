### 人口迁徙预测数据合成
“特征人”（Type）维度定义与量级控制
1. 定义原则
Type 是全局静态的经济学行为桶（Bucket），Type 的定义不随时间与地点变化，Type 用于刻画人的长期结构性特征，而非短期状态

2. Type 维度设计
维度ID	维度名称	粒度（Bins）	经济学 / 技术依据
D1	性别	2 类（男 / 女）	劳动供给弹性、行业隔离差异
D2	生命周期	5 类（16-24, 25-34, 35-49, 50-60, 60+）	分别对应试错期、成家期、稳固期、回流期、养老期，决定风险偏好
D3	学历 / 技能	3 类（初中及以下 / 高中或专科 / 本科及以上）	基于国际标准 ISCED，决定人力资本与落户门槛
D4	行业赛道	3 类（蓝领制造 / 传统服务 / 现代专业服务）	决定收入波动性、迁徙依附逻辑
D5	相对收入	5 类（Q1 至 Q5 分位）	使用收入分位数避免地域绝对值差异
D6	家庭状态	2 类（分离 / 团聚）	反映回流阻尼系数，可由亲情网或通话关系推断
D7	文化地缘 / 出生地	300+类 细分区域（城市群 / 方言区）【由于方言复杂性 暂定为城市级别的细粒度】	代理户籍地、文化摩擦成本与回流方向

3. 行业赛道说明（D4）
1.蓝领 / 劳动密集制造业：传统制造、建筑等；劳动密集、迁徙性高；行业随工地走
2.传统服务业（含灵活就业）：餐饮、零售、住宿、家政；外卖、快递、网约车；对单价极度敏感，流动性极强
3.现代 / 专业服务业（白领）：IT、金融、政府、医疗、管理、创业；技能壁垒高，选择权强
该划分参考了 2017 年中国流动人口动态监测调查及相关学术研究。
问题：上述7大维度的划分在维度设计和维度内的划分是否合理？希望得到经济学指导，进行更清晰且运营商数据能有效划分的规则。

4. Type 总量与稀疏性控制
理论 Type 总数排列组合约 33 万类。
预计呈现极强的长尾分布，即少数type拥有多数人，多数type人数较少。
工程策略：仅实例化样本数大于 10 或 50 的 Type。长尾 Type 可直接忽略或并入最近邻 Type

### 目标输出
| Year | Month | Type_ID                          | From_City      | Total_Count | Stay_Prob | To_Top1 | To_Top1_Prob | … | To_Top20 | To_Top20_Prob | Other |
|------|-------|----------------------------------|----------------|-------------|---------|---------|--------------|---|----------|---------------|-------|
| 2024 | 03    | M_25_EduLo_Mfg_Inc L_Split等     | 苏州(3205)     | 1,250       | 0.61 | 上海    | 0.35         | … | …        | …             | …     |
| 2024 | 03    | F_40_EduHi_Wht_Inc H_Unit等      | 北京(1100)     | 80          | 0.70 | 深圳    | 0.12         | … | …        | …             | …     |

合成的一些简化技巧：
1. Type_ID 必须根据上面的维度聚合而成，不能少，也不能缺少某个取值，尽量全
2. Total_Count 是指这类群体的总数量
3. 最后的预测结果是 Stay_Prob, To_Topi, To_Topi_Prob, ...
4. Year Month 都可以最后添加，假设他们与其他属性独立，也即无需考虑时序性约束。
5. 唯一的约束：如何尽量使得输出的分布接近真实？我们是否可以引入一个函数，直接根据前面的特征来计算？请思考。


### 你的任务
仔细思考，然后说明你的思路。
在 synthesis/ 目录下写脚本，完成这个任务。你可以建立多个文件，来完成这个复杂的任务。或者分步骤，先完成某一步。
